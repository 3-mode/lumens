{"project":{"name":"Oracle_2_Oracle_Incr_Sync","description":"Oracle 到 Oracle 数据库增量同步演示","datasource":[{"type":"type-rapsync","id":"1435589654638","name":"[ 源数据库 ]","description":"定义要同步的数据来源。 页面大小定义为每次查询1000行数据，Redo Log类型为同步在线log文件。数据库日期格式，定义为美国。","position":{"x":63,"y":148},"property":[{"name":"databaseSourceUserName","type":"String","value":"lumens as sysdba"},{"name":"databaseConnectionUrl","type":"String","value":"jdbc:oracle:thin:@127.0.0.1:1521:orcl"},{"name":"PageSize","type":"Integer","value":1000},{"name":"LogType","type":"String","value":"Online"},{"name":"SessionAlter","type":"String","value":"alter session set NLS_DATE_FORMAT='DD-MON-YYYY HH24:MI:SS'\nalter session set nls_date_language='american'"},{"name":"databaseDriver","type":"String","value":"file:///D:/app/oracle/11.2.0/dbhome/jdbc/lib/ojdbc6.jar"},{"name":"databaseSourcePassword","type":"String","value":"lumens"}],"format_list":[{"direction":"IN","format_entry":[{"name":"源数据库","direction":"IN","format":{"name":"SYNC","form":"Struct","type":"None","format":[{"name":"SQLParams","form":"Struct","type":"None","format":[{"name":"action","form":"Field","type":"String"},{"name":"where","form":"Field","type":"String"},{"name":"tablelist","form":"Field","type":"String"}]}]}}]},{"direction":"OUT","format_entry":[{"name":"源数据库","direction":"OUT","format":{"name":"SYNC","form":"Struct","type":"None","format":[{"name":"SQL_REDO","form":"Field","type":"String","property":[{"name":"data_length","type":"String","value":"4000"},{"name":"data_type","type":"String","value":"VARCHAR2"}]},{"name":"SCN","form":"Field","type":"Integer","property":[{"name":"data_length","type":"String","value":"22"},{"name":"data_type","type":"String","value":"NUMBER"}]},{"name":"OPERATION","form":"Field","type":"String","property":[{"name":"data_length","type":"String","value":"32"},{"name":"data_type","type":"String","value":"VARCHAR2"}]},{"name":"TABLE_NAME","form":"Field","type":"String","property":[{"name":"data_length","type":"String","value":"32"},{"name":"data_type","type":"String","value":"VARCHAR2"}]}]}}]}],"target":[{"id":"1435589759748"}]},{"type":"type-rapsync","id":"1435589739073","name":"[ 目标数据库 ]","description":"目标数据库为要增量更新的数据库。 因为不需要查询，所以Log类型和页面大小不需要定义。","position":{"x":728,"y":147},"property":[{"name":"databaseSourceUserName","type":"String","value":"lumens as sysdba"},{"name":"databaseConnectionUrl","type":"String","value":"jdbc:oracle:thin:@127.0.0.1:1521:logminer"},{"name":"databaseDriver","type":"String","value":"file:///D:/app/oracle/11.2.0/dbhome/jdbc/lib/ojdbc6.jar"},{"name":"databaseSourcePassword","type":"String","value":"lumens"}],"format_list":[{"direction":"IN","format_entry":[{"name":"目标数据库","direction":"IN","format":{"name":"SYNC","form":"Struct","type":"None","format":[{"name":"SQLParams","form":"Struct","type":"None","format":[{"name":"action","form":"Field","type":"String"}]},{"name":"SQL_REDO","form":"Field","type":"String","property":[{"name":"data_length","type":"String","value":"4000"},{"name":"data_type","type":"String","value":"VARCHAR2"}]},{"name":"SCN","form":"Field","type":"Integer","property":[{"name":"data_length","type":"String","value":"22"},{"name":"data_type","type":"String","value":"NUMBER"}]},{"name":"OPERATION","form":"Field","type":"String","property":[{"name":"data_length","type":"String","value":"32"},{"name":"data_type","type":"String","value":"VARCHAR2"}]},{"name":"TABLE_NAME","form":"Field","type":"String","property":[{"name":"data_length","type":"String","value":"32"},{"name":"data_type","type":"String","value":"VARCHAR2"}]}]}}]}],"target":[]}],"transformer":[{"type":"type-transformer","id":"1435589725435","name":"[ 查询条件 ]","description":"定义增量查询的条件","position":{"x":64,"y":15},"target":[{"id":"1435589654638"}],"transform_rule_entry":[{"name":"查询条件","source_id":"","target_id":"1435589654638","source_format_name":"","target_format_name":"源数据库","transform_rule":{"name":"SYNC","transform_rule_item":{"format_name":"SYNC","transform_rule_item":[{"format_name":"SQLParams","transform_rule_item":[{"format_name":"action","script":"\"QUERY\""},{"format_name":"where","script":"\"SEG_OWNER='LUMENS'\""},{"format_name":"tablelist","script":"\"COUNTRIES,DEPARTMENTS,EMPLOYEES,JOB_HISTORY,JOBS,LOCATIONS,REGIONS\""}]}]}}}]},{"type":"type-transformer","id":"1435589759748","name":"[ 同步规则 ]","description":"这里定义用户业务逻辑","position":{"x":399,"y":148},"target":[{"id":"1435589739073"}],"transform_rule_entry":[{"name":"同步规则","source_id":"1435589654638","target_id":"1435589739073","source_format_name":"源数据库","target_format_name":"目标数据库","transform_rule":{"name":"SYNC","transform_rule_item":{"format_name":"SYNC","transform_rule_item":[{"format_name":"SQLParams","transform_rule_item":[{"format_name":"action","script":"\"SYNC\""}]},{"format_name":"SQL_REDO","script":"@SYNC.SQL_REDO"},{"format_name":"SCN","script":"@SYNC.SCN"},{"format_name":"OPERATION","script":"@SYNC.OPERATION"},{"format_name":"TABLE_NAME","script":"@SYNC.TABLE_NAME"}]}}}]}],"start_entry":[{"format_name":"查询条件","component_id":"1435589725435"}]}}