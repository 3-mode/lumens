<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
        <script type="text/javascript" src="tool/jquery/js/jquery.js"></script>
        <script type="text/javascript" src="tool/jquery/js/jquery-ui.js"></script>
        <!-- Splitter plug-in -->
        <link rel="stylesheet" type="text/css" href="tool/splitter/splitter.css"/>
        <script type="text/javascript" src="tool/splitter/splitter.js"></script>
        <!--tree-->
        <link rel="stylesheet" href="tool/tree/skin-vista/ui.dynatree.css" type="text/css"/>
        <script type="text/javascript" src="tool/tree/jquery.cookie.js"></script>
        <script type="text/javascript" src="tool/tree/jquery.dynatree.js"></script>
        <!-- D3 -->
        <script type="text/javascript" src="tool/d3/d3.js"></script>
        <!--lumens-->
        <link rel="stylesheet" type="text/css" href="lumens/css/lumens.css"/>
        <script type="text/javascript" src="lumens/controls.js"></script>
        <script type="text/javascript" src="lumens/lumens.js"></script>
        <style>
            body {
                padding: 0px;
                margin: 0px;
            }

            #holder {
                width: 100%;
                height: 100%;
            }
        </style>
        <script type="text/javascript">
            jQuery(function() {
                var map = {};
                map['james'] = {"name": "james", "job": "SE"};
                map['tom'] = {"name": "tom", "job": "SE"};
                delete map['james'];
                console.log(map['tom']);
                console.log(map['james']);
            });
        </script>
        <style>
            .editor-pane {
                width: 400px;
                height: 100px;
            }
            .editor-item {
                float: left;
                width: 100px;
                height: 100px;
                background: rgb(241, 241, 241);
                border-width: 1px;
                border-style: solid;
                border-color: rgb(206, 206, 206);
                margin-top: 20px;
                margin-left: 20px;
            }
            .h-scroll-bar {
                height: 10px;
                width: 418px;
                border-top: 1px solid #dddddd;
                border-left: 1px solid #dddddd;
                border-right: 1px solid #dddddd;
            }
            .v-scroll-bar-left {
                height: 298px;
                width: 10px;
                border-top: 1px solid #dddddd;
                border-left: 1px solid #dddddd;
                border-bottom: 1px solid #dddddd;
            }
            .v-scroll-bar-right {
                height: 298px;
                width: 10px;
                border-top: 1px solid #dddddd;
                border-right: 1px solid #dddddd;
                border-bottom: 1px solid #dddddd;
            }

            table {
                width: 100%;
                height: 100%;
            }
        </style>
        <script type="text/javascript">
            /*
             $(function(){
             var svg = d3.select("#test").append("svg").attr("transform", "translate(100, 100)");
             svg.attr({
             "xmlns": "http://www.w3.org/2000/svg",
             "version":"1.1"
             });
             svg.data([{x: 100, y: 100}]);
             var node = svg.node(); // DOM element
             $(node).click(function(e){console.log("clicked")});// jQuery
             var x = svg.datum().x;
             svg.append("svg:foreignObject")
             .attr({
             "height": 50,
             "width": 200
             })
             .append("div")
             .style({
             "width": "100%",
             "height": "100%"
             }).text("test");
             
             
             })//*/
        </script>
        <style>
            .s_edge {
                fill: rgba(224, 224, 224, .2);
                stroke: #3182bd;
                stroke-width: .2px;
                stroke-opacity: .3;
            }
            .s_grip {
                fill: rgba(197, 196, 196, .6);
            }
            .scb {
                border: 1px solid rgba(201, 201, 201, .3);
                width: 100px;
                height: 100px;
            }
            .component {
            }
            svg { border: 1px solid black; }
            svg div { border: 1px dotted blue; }
        </style>
        <script type="text/javascript">
            $(function() {
                $.ajax({
                    url: "http://localhost:8080/lumens/rest/projects/P-cc0aa7be-ea8e-4fe2-878f-312bf67e299b",
                    dataType: "application/text",
                    success: function(data) {
                        $("body").text(data)
                    }
                });
                var obj = $.parseJSON('[{"name": "james", "id": 1}, {"name" : "tom", "id": 2}]');
                var div = d3.select("body").selectAll("div");
                var divData = div.data([1, 2, 4, 8, 16, 32], function(d) {
                    return d;
                });
                var divEnter = divData.enter();
                var node = divEnter.insert("div").text(function(d) {
                    return d;
                });
                // divData.exit().remove();
                function assign(id, value) {
                    var t = $(id);
                    t.get(0).value != undefined ? t.val(value) : t.text(value);
                }
                assign("#text", "text");
                assign("#text2", "text2");
                assign("#text3", "text3");
                assign("#text4", "test4");

                $('.component').draggable();
            });
        </script>
    </head>
    <body>
        <input id="text"/>
        <textarea id="text2"></textarea>
        <select id="text3">
            <option value="text1">1</option>
            <option value="text2">2</option>
            <option value="text3">3</option>
        </select>
        <div class="component" style="position:relative;left:200px;top:400px;width:140px;height:57px;">
            <div style="border:1px solid rgba(177, 177, 177, .5);background-color:rgb(214, 214, 214);float:top; width:140px; height:25px">
                <img style="padding-top:3px;padding-left:3px;" src="lumens/images/status/16/disconnect.png"/>
            </div>
            <div style="border:1px solid rgba(177, 177, 177, .3);background-color:rgb(236, 236, 236);width:140px; height:32px"></div>
        </div>
        <div id="text4" ></div>
        <div style="position: relative; width: 900px; height:300px; left: 100px; top: 100px;">
            <div id="test" class="scb"> </div>
        </div>
        <div id="jevent_test"></div>
        <script type="text/javascript">
            function item_clone() {
                return $('<div id="draggable-item" style="width:50px;height:20px"/>');
            }
            var svg = d3.select("#jevent_test").append("svg");
            var rr = svg.append("svg:rect")
            .attr({
                "width": "100px",
                "height": "50px"
            });
            $(rr.node()).draggable({
                appendTo: $("#jevent_test"),
                helper: item_clone
            });
            var tt = svg.append("svg:text")
            .attr({
                "width": "200px",
                "height": "100px",
                "x": 120,
                "y": 120
            }).text("Hello World");

            $(tt.node()).droppable({
                drop: function(e, u) {
                    console.log(this);
                }
            });
            $(tt.node()).mousedown(function() {
                console.log("mousedown");
            });
            tt.on("mousedown", function() {
                console.log("mousedown");
            });//*/
        </script>
        <div id="viz"></div>
    </body>
</html>