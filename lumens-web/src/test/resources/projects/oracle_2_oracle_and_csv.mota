{"project":{"name":"Oracle to Oracle transform","description":"This is a demo for oracle database transform","datasource":[{"type":"type-oracle-jdbc","id":"1415415407248","name":"Employee Oracle ORCL","description":"","position":{"x":372,"y":185},"property":[{"name":"User","type":"String","value":"hr"},{"name":"PageSize","type":"Integer","value":2000},{"name":"Password","type":"String","value":"hr"},{"name":"OJDBC","type":"String","value":"file:///C:\\app\\washaofe\\product\\11.2.0\\dbhome\\jdbc\\lib\\ojdbc6.jar"},{"name":"ConnectionURL","type":"String","value":"jdbc:oracle:thin:@localhost:1521:orcl"},{"name":"SessionAlter","type":"String","value":"alter session set NLS_DATE_FORMAT='yyyy-mm-dd hh:mi:ss'"}],"format_list":[{"direction":"IN","format_entry":[{"name":"Get Employee List","direction":"IN","format":{"name":"EMPLOYEES","form":"Struct","type":"None","property":[{"name":"description","type":"String","value":"employees table. Contains 107 rows. References with departments,\njobs, job_history tables. Contains a self reference."},{"name":"type","type":"String","value":"TABLE"}],"format":[{"name":"SQLParams","form":"Struct","type":"None","format":[{"name":"action","form":"Field","type":"String"}]}]}}]},{"direction":"OUT","format_entry":[{"name":"Get Employee List","direction":"OUT","format":{"name":"EMPLOYEES","form":"Struct","type":"None","property":[{"name":"description","type":"String","value":"employees table. Contains 107 rows. References with departments,\njobs, job_history tables. Contains a self reference."},{"name":"type","type":"String","value":"TABLE"}],"format":[{"name":"EMPLOYEE_ID","form":"Field","type":"Integer","property":[{"name":"data_type","type":"String","value":"NUMBER"},{"name":"data_length","type":"String","value":"22"}]},{"name":"HIRE_DATE","form":"Field","type":"Date","property":[{"name":"data_type","type":"String","value":"DATE"},{"name":"data_length","type":"String","value":"7"}]},{"name":"JOB_ID","form":"Field","type":"String","property":[{"name":"data_type","type":"String","value":"VARCHAR2"},{"name":"data_length","type":"String","value":"10"}]},{"name":"SALARY","form":"Field","type":"Integer","property":[{"name":"data_type","type":"String","value":"NUMBER"},{"name":"data_length","type":"String","value":"22"}]},{"name":"MANAGER_ID","form":"Field","type":"Integer","property":[{"name":"data_type","type":"String","value":"NUMBER"},{"name":"data_length","type":"String","value":"22"}]},{"name":"DEPARTMENT_ID","form":"Field","type":"Integer","property":[{"name":"data_type","type":"String","value":"NUMBER"},{"name":"data_length","type":"String","value":"22"}]}]}}]}],"target":[{"id":"1415415412544"},{"id":"1433034205085"}]},{"type":"type-oracle-jdbc","id":"1415415410512","name":"Employee_Test Oracle ORCL","description":"","position":{"x":1149,"y":13},"property":[{"name":"User","type":"String","value":"hr"},{"name":"Password","type":"String","value":"hr"},{"name":"OJDBC","type":"String","value":"file:///C:\\app\\washaofe\\product\\11.2.0\\dbhome\\jdbc\\lib\\ojdbc6.jar"},{"name":"ConnectionURL","type":"String","value":"jdbc:oracle:thin:@localhost:1521:orcl"},{"name":"SessionAlter","type":"String","value":"alter session set NLS_DATE_FORMAT='yyyy-mm-dd hh:mi:ss'"}],"format_list":[{"direction":"IN","format_entry":[{"name":"Insert Employee_test","direction":"IN","format":{"name":"EMPLOYEES_TEST","form":"Struct","type":"None","property":[{"name":"description","type":"String","value":""},{"name":"type","type":"String","value":"TABLE"}],"format":[{"name":"SQLParams","form":"Struct","type":"None","format":[{"name":"action","form":"Field","type":"String"}]},{"name":"EMPLOYEE_ID","form":"Field","type":"Integer","property":[{"name":"data_type","type":"String","value":"NUMBER"},{"name":"data_length","type":"String","value":"22"}]},{"name":"FIRST_NAME","form":"Field","type":"String","property":[{"name":"data_type","type":"String","value":"VARCHAR2"},{"name":"data_length","type":"String","value":"20"}]},{"name":"LAST_NAME","form":"Field","type":"String","property":[{"name":"data_type","type":"String","value":"VARCHAR2"},{"name":"data_length","type":"String","value":"25"}]},{"name":"EMAIL","form":"Field","type":"String","property":[{"name":"data_type","type":"String","value":"VARCHAR2"},{"name":"data_length","type":"String","value":"25"}]},{"name":"PHONE_NUMBER","form":"Field","type":"String","property":[{"name":"data_type","type":"String","value":"VARCHAR2"},{"name":"data_length","type":"String","value":"20"}]},{"name":"HIRE_DATE","form":"Field","type":"Date","property":[{"name":"data_type","type":"String","value":"DATE"},{"name":"data_length","type":"String","value":"7"}]},{"name":"JOB_ID","form":"Field","type":"String","property":[{"name":"data_type","type":"String","value":"VARCHAR2"},{"name":"data_length","type":"String","value":"10"}]},{"name":"SALARY","form":"Field","type":"Integer","property":[{"name":"data_type","type":"String","value":"NUMBER"},{"name":"data_length","type":"String","value":"22"}]},{"name":"COMMISSION_PCT","form":"Field","type":"Integer","property":[{"name":"data_type","type":"String","value":"NUMBER"},{"name":"data_length","type":"String","value":"22"}]},{"name":"MANAGER_ID","form":"Field","type":"Integer","property":[{"name":"data_type","type":"String","value":"NUMBER"},{"name":"data_length","type":"String","value":"22"}]},{"name":"DEPARTMENT_ID","form":"Field","type":"Integer","property":[{"name":"data_type","type":"String","value":"NUMBER"},{"name":"data_length","type":"String","value":"22"}]}]}}]}],"target":[]},{"type":"type-text","id":"1433034218488","name":"Export oracle","description":"","position":{"x":1152,"y":190},"property":[{"name":"FiledDelimiter","type":"String","value":","},{"name":"Encoding","type":"String","value":"UTF-8"},{"name":"SchemaPath","type":"String","value":"X:\\PRODUCT\\3MODE\\lumens\\lumens-connector-text\\src\\test\\resources\\delimited\\incsv_schema.xml"},{"name":"EscapeChar","type":"String","value":"\\\\"},{"name":"Path","type":"String","value":"C:\\export_oracle.txt"}],"format_list":[{"direction":"IN","format_entry":[{"name":"Export oracle","direction":"IN","format":{"name":"TextMessage","form":"Struct","type":"None","property":[{"name":"SchemaEncoding","type":"String","value":"UTF-8"}],"format":[{"name":"TextParams","form":"Struct","type":"None","format":[{"name":"Operation","form":"Field","type":"String"}]},{"name":"number","form":"Field","type":"Integer","property":[{"name":"precision","type":"Integer","value":"-1"},{"name":"length","type":"Integer","value":"16"},{"name":"nullable","type":"String","value":"false"},{"name":"key","type":"String","value":"true"}]},{"name":"date","form":"Field","type":"Date","property":[{"name":"pattern","type":"String","value":"dd-MM-yyyy"},{"name":"length","type":"Integer","value":"16"},{"name":"nullable","type":"String","value":"false"},{"name":"key","type":"String","value":"false"}]},{"name":"text2","form":"Field","type":"String","property":[{"name":"length","type":"Integer","value":"255"},{"name":"nullable","type":"String","value":"true"},{"name":"key","type":"String","value":"false"}]},{"name":"text3","form":"Field","type":"String","property":[{"name":"length","type":"Integer","value":"255"},{"name":"nullable","type":"String","value":"true"},{"name":"key","type":"String","value":"false"}]},{"name":"text4","form":"Field","type":"String","property":[{"name":"length","type":"Integer","value":"255"},{"name":"nullable","type":"String","value":"true"},{"name":"key","type":"String","value":"false"}]},{"name":"text5","form":"Field","type":"String","property":[{"name":"length","type":"Integer","value":"255"},{"name":"nullable","type":"String","value":"true"},{"name":"key","type":"String","value":"false"}]},{"name":"text6","form":"Field","type":"String","property":[{"name":"length","type":"Integer","value":"255"},{"name":"nullable","type":"String","value":"true"},{"name":"key","type":"String","value":"false"}]}]}}]}],"target":[]}],"transformer":[{"type":"type-transformer","id":"1415415412544","name":"Insert Employee_test","description":"","position":{"x":740,"y":15},"target":[{"id":"1415415410512"}],"transform_rule_entry":[{"name":"Build Insert into Employee_test","source_id":"1415415407248","target_id":"1415415410512","source_format_name":"Get Employee List","target_format_name":"Insert Employee_test","transform_rule":{"name":"EMPLOYEES_TEST","transform_rule_item":{"format_name":"EMPLOYEES_TEST","transform_rule_item":[{"format_name":"SQLParams","transform_rule_item":[{"format_name":"action","script":"\"INSERT_ONLY\""}]},{"format_name":"EMPLOYEE_ID","script":"var id = Math.round(Math.random() * 1000000000);\nvar id2 = Math.round(Math.random() * 1000000000);\nwhile(id === id2) {\n  id2 = Math.round(Math.random() * 1000000000);\n}\nreturn id2;"},{"format_name":"FIRST_NAME","script":"@EMPLOYEES.FIRST_NAME"},{"format_name":"LAST_NAME","script":"@EMPLOYEES.LAST_NAME"},{"format_name":"EMAIL","script":"@EMPLOYEES.EMAIL"},{"format_name":"PHONE_NUMBER","script":"@EMPLOYEES.PHONE_NUMBER"},{"format_name":"HIRE_DATE","script":"return dateToString(new Date(), 'yyyy-MM-dd hh:mm:ss')"},{"format_name":"JOB_ID","script":"@EMPLOYEES.JOB_ID"},{"format_name":"SALARY","script":"@EMPLOYEES.SALARY"},{"format_name":"COMMISSION_PCT","script":"@EMPLOYEES.COMMISSION_PCT"},{"format_name":"MANAGER_ID","script":"@EMPLOYEES.MANAGER_ID"},{"format_name":"DEPARTMENT_ID","script":"@EMPLOYEES.DEPARTMENT_ID"}]}}}]},{"type":"type-transformer","id":"1415415418504","name":"Query Orginal Employee","description":"","position":{"x":30,"y":45},"target":[{"id":"1415415407248"}],"transform_rule_entry":[{"name":"Build Employee Query","source_id":"","target_id":"1415415407248","source_format_name":"","target_format_name":"Get Employee List","transform_rule":{"name":"EMPLOYEES","transform_rule_item":{"format_name":"EMPLOYEES","transform_rule_item":[{"format_name":"SQLParams","transform_rule_item":[{"format_name":"action","script":"\"SELECT\""}]}]}}}]},{"type":"type-transformer","id":"1433034205085","name":"Export oracle to csv","description":"","position":{"x":774,"y":198},"target":[{"id":"1433034218488"}],"transform_rule_entry":[{"name":"Transform oracle to csv","source_id":"1415415407248","target_id":"1433034218488","source_format_name":"Get Employee List","target_format_name":"Export oracle","transform_rule":{"name":"TextMessage","transform_rule_item":{"format_name":"TextMessage","transform_rule_item":[{"format_name":"TextParams","transform_rule_item":[{"format_name":"Operation","script":"\"Append\""}]},{"format_name":"number","script":"@EMPLOYEES.EMPLOYEE_ID"},{"format_name":"date","script":"@EMPLOYEES.HIRE_DATE"},{"format_name":"text2","script":"@EMPLOYEES.JOB_ID"},{"format_name":"text3","script":"@EMPLOYEES.SALARY"},{"format_name":"text4","script":"@EMPLOYEES.MANAGER_ID"},{"format_name":"text5","script":"@EMPLOYEES.MANAGER_ID"},{"format_name":"text6","script":"@EMPLOYEES.DEPARTMENT_ID"}]}}}]}],"start_entry":[{"format_name":"Build Employee Query","component_id":"1415415418504"}]}}